{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/schemas/ocr.schema.json",
  "title": "OCRResponse",
  "type": "object",
  "additionalProperties": false,
  "required": ["amount", "currency", "date", "confidence"],
  "properties": {
    "amount": {
      "type": "number",
      "minimum": 0
    },
    "currency": {
      "type": "string",
      "const": "THB"
    },
    "merchant": {
      "type": ["string", "null"]
    },
    "date": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "ISO date YYYY-MM-DD"
    },
    "confidence": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "amount": { "type": "number", "minimum": 0, "maximum": 1 },
        "merchant": { "type": "number", "minimum": 0, "maximum": 1 },
        "date": { "type": "number", "minimum": 0, "maximum": 1 }
      }
    },
    "raw": { "type": "string" }
  },
  "examples": [
    {
      "amount": 150.0,
      "currency": "THB",
      "merchant": "ร้านกาแฟดอยตุง",
      "date": "2025-11-08",
      "confidence": { "amount": 0.98, "merchant": 0.40, "date": 0.90 },
      "raw": "optional string"
    }
  ]
}

