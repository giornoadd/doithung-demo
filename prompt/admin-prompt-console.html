<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doi Tung Agent Prompt Console</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            color-scheme: dark;
        }
        body {
            font-family: "Inter", "Sarabun", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }
        .card-shadow {
            box-shadow: 0 14px 40px -20px rgba(15, 23, 42, 0.45);
        }
        .tab-active {
            background: linear-gradient(90deg, #006A4E 0%, #009688 100%);
            color: #fff !important;
            border-color: transparent !important;
        }
    </style>
</head>
<body class="bg-slate-950">
    <div class="min-h-screen flex flex-col">
        <header class="border-b border-[#006A4E]/20 bg-slate-950">
            <div class="mx-auto max-w-6xl px-6 py-8 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between">
                <div class="flex items-center gap-4">
                    <a href="../program-hub.html" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-[#009688]/40 text-[#009688] text-sm font-medium hover:bg-[#009688]/10 transition">‚Üê Hub</a>
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-xl bg-[#006A4E] text-white flex items-center justify-center font-semibold text-lg">DT</div>
                        <div class="space-y-1">
                            <p class="text-xs uppercase tracking-[0.35em] text-[#009688] font-semibold">Doi Tung Finance</p>
                            <h1 class="text-2xl font-semibold text-white">Agent Prompt Console</h1>
                            <p class="text-xs text-slate-400 max-w-3xl">‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ system prompt, persona, ‡πÅ‡∏•‡∏∞ instruction ‡∏Ç‡∏≠‡∏á Agent ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£ Petty Cash Automation</p>
                        </div>
                    </div>
                </div>
                <div class="flex flex-wrap items-center gap-3">
                    <button onclick="generateYAML(); downloadFile('doi-tung-agents.yaml', generateYAML())" class="px-4 py-2 rounded-xl border border-[#009688]/40 text-[#009688] text-sm font-medium hover:bg-[#009688]/10 transition">üìÑ Download YAML</button>
                    <button onclick="deployUpdate()" class="px-4 py-2 rounded-xl bg-[#009688] text-white text-sm font-semibold shadow-lg shadow-[#009688]/30 hover:bg-[#006A4E] transition">üöÄ Deploy Update</button>
                </div>
            </div>
        </header>

        <main class="flex-1 bg-slate-900/40">
            <section class="mx-auto max-w-6xl px-6 py-10 space-y-8">
                <div class="grid gap-6 md:grid-cols-[320px_minmax(0,1fr)]">
                    <aside class="bg-slate-900/60 border border-slate-800 rounded-3xl p-5 backdrop-blur">
                        <div class="space-y-5">
                            <div>
                                <p class="text-xs font-semibold uppercase tracking-[0.3em] text-slate-400">Agent Groups</p>
                                <div class="mt-3 flex flex-col gap-2">
                                    <button onclick="showAgentGroup('intake')" class="flex items-center justify-between px-4 py-3 rounded-2xl bg-white/5 text-white text-sm font-semibold border border-[#009688]/30">
                                        Intake & OCR
                                        <span class="text-xs bg-[#009688]/20 text-[#009688] px-2 py-0.5 rounded-full">3</span>
                                    </button>
                                    <button onclick="showAgentGroup('policy')" class="flex items-center justify-between px-4 py-3 rounded-2xl text-slate-300 text-sm font-semibold border border-transparent hover:border-slate-700 hover:bg-white/5 transition">
                                        Policy & Routing
                                        <span class="text-xs bg-slate-700/50 text-slate-300 px-2 py-0.5 rounded-full">2</span>
                                    </button>
                                    <button onclick="showAgentGroup('analytics')" class="flex items-center justify-between px-4 py-3 rounded-2xl text-slate-300 text-sm font-semibold border border-transparent hover:border-slate-700 hover:bg-white/5 transition">
                                        Analytics & Reporting
                                        <span class="text-xs bg-slate-700/50 text-slate-300 px-2 py-0.5 rounded-full">1</span>
                                    </button>
                                    <button onclick="showAgentGroup('integration')" class="flex items-center justify-between px-4 py-3 rounded-2xl text-slate-300 text-sm font-semibold border border-transparent hover:border-slate-700 hover:bg-white/5 transition">
                                        Integration
                                        <span class="text-xs bg-slate-700/50 text-slate-300 px-2 py-0.5 rounded-full">1</span>
                                    </button>
                                </div>
                            </div>

                            <div class="border-t border-slate-800 pt-4 space-y-3">
                                <p class="text-xs uppercase tracking-[0.3em] text-slate-500">Environment</p>
                                <div class="grid grid-cols-2 gap-3 text-xs">
                                    <button onclick="switchEnvironment('staging')" class="px-3 py-2 rounded-xl bg-[#009688]/20 border border-[#009688]/40 text-[#009688] font-medium">staging</button>
                                    <button onclick="switchEnvironment('production')" class="px-3 py-2 rounded-xl border border-slate-700 text-slate-300 font-medium hover:bg-slate-800/80">production</button>
                                </div>
                                <div class="text-[0.7rem] leading-relaxed text-slate-500 bg-slate-900/80 border border-slate-800 rounded-2xl p-3">
                                    <p class="font-semibold text-slate-300">Version Control</p>
                                    <p class="mt-1">Hash ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: <span class="text-[#009688]">824a1f2</span></p>
                                    <p>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏î‡∏¢: <span class="text-slate-300">finance-admin@doitung.org</span></p>
                                </div>
                            </div>
                        </div>
                    </aside>

                    <section class="space-y-6">
                        <div class="bg-slate-900/60 border border-slate-800 rounded-3xl p-6 backdrop-blur card-shadow">
                            <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
                                <div>
                                    <p class="text-xs uppercase tracking-[0.32em] text-[#009688] font-semibold">Active Agent</p>
                                    <h2 class="text-2xl font-semibold text-white flex items-center gap-2"><span data-agent-name>Employee Interface Agent</span> <span data-agent-badge class="text-sm font-medium text-[#009688] bg-[#009688]/10 px-3 py-1 rounded-full border border-[#009688]/30">LINE Chatbot</span></h2>
                                </div>
                                <div class="flex flex-wrap gap-2">
                                    <button onclick="viewDiff()" class="px-3 py-1.5 rounded-xl text-xs font-semibold text-slate-300 border border-slate-700 hover:bg-slate-800 transition">‡∏î‡∏π Diff</button>
                                    <button onclick="cloneAgent()" class="px-3 py-1.5 rounded-xl text-xs font-semibold text-[#009688] border border-[#009688]/40 hover:bg-[#009688]/10 transition">Clone Agent</button>
                                </div>
                            </div>

                            <div class="mt-5 grid gap-4 lg:grid-cols-[240px_minmax(0,1fr)]">
                                <div class="space-y-4">
                                    <div class="bg-slate-900 border border-slate-800 rounded-2xl p-4">
                                        <p class="text-xs uppercase tracking-[0.3em] text-slate-500">Persona & Role</p>
                                        <p data-agent-persona class="mt-2 text-sm text-slate-200 leading-relaxed">Doi Tung Finance Bot ‡∏ö‡∏ô LINE Platform ¬∑ ‡∏™‡∏∏‡∏†‡∏≤‡∏û, ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£ ¬∑ ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</p>
                                    </div>
                                    <div class="bg-slate-900 border border-slate-800 rounded-2xl p-4 space-y-3 text-xs text-slate-400">
                                        <div class="flex items-center justify-between text-slate-300">
                                            <span>Last Edited</span>
                                            <span>9 Nov 2025 ¬∑ 14:32</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span>Owner</span>
                                            <span data-agent-owner class="text-slate-300">Finance Ops Squad</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span>Dependencies</span>
                                            <span data-agent-dependencies class="text-[#009688]">Routing Orchestrator Agent</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="space-y-4">
                                    <div class="border border-slate-800 rounded-2xl overflow-hidden">
                                        <div class="flex items-center gap-3 border-b border-slate-800 bg-slate-900/60 px-4 py-3 text-xs font-semibold text-slate-400">
                                            <button onclick="switchTab('system-prompt')" class="px-3 py-1.5 rounded-xl border border-[#009688]/50 text-[#009688] bg-[#009688]/10 text-xs font-semibold">System Prompt</button>
                                            <button onclick="switchTab('guardrails')" class="px-3 py-1.5 rounded-xl border border-transparent text-slate-500 hover:border-slate-700 hover:text-slate-300 transition">Guardrails</button>
                                            <button onclick="switchTab('test-scenarios')" class="px-3 py-1.5 rounded-xl border border-transparent text-slate-500 hover:border-slate-700 hover:text-slate-300 transition">Test Scenarios</button>
                                        </div>
                                        <div class="bg-slate-950/90 p-4 text-sm text-slate-200 font-mono leading-relaxed space-y-3">
                                            <p data-system-prompt>‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ <strong>Doi Tung Finance Bot</strong> ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡∏ö‡∏ô LINE ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á petty cash ‡∏à‡∏≤‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡πÄ‡∏´‡πá‡∏ô</p>
                                            <div class="bg-slate-900 border border-slate-800 rounded-xl p-4 space-y-3">
                                                <p class="text-xs uppercase tracking-[0.3em] text-slate-400">CORE DUTIES</p>
                                                <ul class="list-disc pl-5 space-y-2 text-slate-300">
                                                    <li>‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏ô‡∏ó‡∏ô‡∏≤</li>
                                                    <li>‡∏ä‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô (JPEG/PNG/PDF) ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏´‡∏≤‡∏Å‡∏°‡∏µ</li>
                                                    <li>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå ‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ß‡πà‡∏≤ <code>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏±‡∏ö! ü§ñ ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ AI ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö...</code></li>
                                                    <li>‡∏£‡∏≠‡∏£‡∏±‡∏ö <code>Status Update</code> ‡∏à‡∏≤‡∏Å Routing_Orchestrator_Agent ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢</li>
                                                </ul>
                                            </div>
                                            <div class="bg-[#009688]/5 border border-[#009688]/30 rounded-xl p-4 space-y-2">
                                                <p class="text-xs uppercase tracking-[0.3em] text-[#009688]">INTERACTION GUARDRAILS</p>
                                                <p class="text-slate-200">‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏ä‡∏ß‡πå error code, JSON, ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô ¬∑ ‡∏´‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏´‡πâ‡∏™‡∏∏‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ¬∑ ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï ‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="bg-slate-900/70 border border-slate-800 rounded-2xl p-5 grid gap-4 md:grid-cols-2">
                                        <div class="space-y-2 text-sm text-slate-300">
                                            <p class="text-xs uppercase tracking-[0.3em] text-slate-500">Linked Files</p>
                                            <p><code data-agent-file>prompt/employee-interface-agent.md</code></p>
                                            <p><code>prompt/readme.md</code></p>
                                        </div>
                                        <div class="space-y-3 text-xs">
                                            <p class="text-slate-400 uppercase tracking-[0.3em]">Instant Actions</p>
                                            <div class="flex flex-wrap gap-2">
                                                <button onclick="syncFromGit()" class="px-3 py-1.5 rounded-xl bg-[#009688] text-white text-xs font-semibold hover:bg-[#006A4E] transition">üîÑ Sync from Git</button>
                                                <button onclick="runTest()" class="px-3 py-1.5 rounded-xl border border-slate-700 text-slate-300 text-xs font-semibold hover:bg-slate-800 transition">üß™ Run Test</button>
                                                <button onclick="sendSampleMessage()" class="px-3 py-1.5 rounded-xl border border-[#009688]/40 text-[#009688] text-xs font-semibold hover:bg-[#009688]/10 transition">üì¨ Send Sample Message</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-slate-900/60 border border-slate-800 rounded-3xl p-6 space-y-5">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-xs uppercase tracking-[0.3em] text-slate-400">All Agents Overview</p>
                                    <h3 class="text-white text-lg font-semibold mt-1">System Architecture & Flow</h3>
                                </div>
                                <span class="text-xs bg-slate-800 text-slate-300 px-3 py-1 rounded-full">7 Agents Active</span>
                            </div>
                            <div class="grid gap-3 md:grid-cols-2 lg:grid-cols-3">
                                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-[#009688]/30 transition cursor-pointer" onclick="loadAgent('employee-interface')">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">üë§</span>
                                        <p class="text-sm font-semibold text-white">Employee Interface</p>
                                    </div>
                                    <p class="text-xs text-slate-400">LINE Chatbot ¬∑ Frontend</p>
                                </div>
                                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-[#009688]/30 transition cursor-pointer" onclick="loadAgent('ocr-extraction')">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">üì∑</span>
                                        <p class="text-sm font-semibold text-white">OCR Extraction</p>
                                    </div>
                                    <p class="text-xs text-slate-400">Image/PDF to Text</p>
                                </div>
                                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-[#009688]/30 transition cursor-pointer" onclick="loadAgent('data-structuring')">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">üîÑ</span>
                                        <p class="text-sm font-semibold text-white">Data Structuring</p>
                                    </div>
                                    <p class="text-xs text-slate-400">Text to JSON Schema</p>
                                </div>
                                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-[#009688]/30 transition cursor-pointer" onclick="loadAgent('policy-verification')">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">‚úì</span>
                                        <p class="text-sm font-semibold text-white">Policy Verification</p>
                                    </div>
                                    <p class="text-xs text-slate-400">Rule Engine ¬∑ Compliance</p>
                                </div>
                                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-[#009688]/30 transition cursor-pointer" onclick="loadAgent('routing-orchestrator')">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">üîÄ</span>
                                        <p class="text-sm font-semibold text-white">Routing Orchestrator</p>
                                    </div>
                                    <p class="text-xs text-slate-400">Decision Logic ¬∑ Notifications</p>
                                </div>
                                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-[#009688]/30 transition cursor-pointer" onclick="loadAgent('financial-analyst')">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">üìä</span>
                                        <p class="text-sm font-semibold text-white">Financial Analyst</p>
                                    </div>
                                    <p class="text-xs text-slate-400">Insights ¬∑ Anomaly Detection</p>
                                </div>
                                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-[#009688]/30 transition cursor-pointer" onclick="loadAgent('erp-integration')">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">üîå</span>
                                        <p class="text-sm font-semibold text-white">ERP Integration</p>
                                    </div>
                                    <p class="text-xs text-slate-400">SAP/Treasury API ¬∑ Posting</p>
                                </div>
                            </div>
                            <div class="border-t border-slate-800 pt-4">
                                <p class="text-xs text-slate-400 mb-3">Process Flow</p>
                                <div class="text-xs text-slate-300 space-y-1">
                                    <p>1. Employee ‚Üí 2. OCR ‚Üí 3. Structuring ‚Üí 4. Policy Check ‚Üí 5. Routing ‚Üí 6. ERP Integration</p>
                                    <p class="text-slate-500">Analytics Agent runs daily batch on approved transactions</p>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>
        </main>

        <footer class="border-t border-slate-800 bg-slate-950/80">
            <div class="mx-auto max-w-6xl px-6 py-6 flex flex-col gap-3 md:flex-row md:items-center md:justify-between text-[0.75rem] text-slate-500">
                <p>¬© 2025 Mae Fah Luang Foundation ‚Äì Intelligent Finance Automation Program</p>
                <div class="flex flex-wrap items-center gap-4">
                    <span>Docs: <a href="readme.md" class="text-[#009688] hover:text-[#006A4E] transition">Prompt Handbook</a></span>
                    <span>Repo: <code>doithung-demo/prompt/</code></span>
                </div>
            </div>
        </footer>
    </div>
    <script>
        // Agent data structure based on markdown files
        const agents = {
            'employee-interface': {
                name: 'Employee Interface Agent',
                badge: 'LINE Chatbot',
                persona: 'Doi Tung Finance Bot ‡∏ö‡∏ô LINE Platform ¬∑ ‡∏™‡∏∏‡∏†‡∏≤‡∏û, ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£ ¬∑ ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ',
                systemPrompt: '‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ Doi Tung Finance Bot ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡∏ö‡∏ô LINE ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á petty cash ‡∏à‡∏≤‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡πÄ‡∏´‡πá‡∏ô',
                file: 'employee-interface-agent.md',
                dependencies: 'Routing Orchestrator Agent',
                owner: 'Finance Ops Squad'
            },
            'ocr-extraction': {
                name: 'OCR Extraction Agent',
                badge: 'Image Processing',
                persona: 'High-accuracy OCR engine ¬∑ Maximum fidelity extraction',
                systemPrompt: 'You are a dedicated, high-accuracy OCR engine. Your mission is to accept one image or PDF page at a time and return only the raw text you detect. Focus on amounts, dates, merchant names, reference numbers, tax IDs, and handwritten totals.',
                file: 'ocr-extraction-agent.md',
                dependencies: 'Data Structuring Agent',
                owner: 'ML/AI Squad'
            },
            'data-structuring': {
                name: 'Data Structuring Agent',
                badge: 'JSON Schema',
                persona: 'AI data extraction specialist ¬∑ Schema compliance enforcer',
                systemPrompt: 'You are an AI data extraction specialist. You ingest plain text from the OCR_Extraction_Agent and emit a single JSON object that matches the canonical schema‚Äîno extra keys, comments, or prose.',
                file: 'data-structuring-agent.md',
                dependencies: 'Policy Verification Agent',
                owner: 'Data Engineering Squad'
            },
            'policy-verification': {
                name: 'Policy Verification Agent',
                badge: 'Compliance Engine',
                persona: 'Policy enforcement ¬∑ Confidence scoring ¬∑ Flag generation',
                systemPrompt: 'You are the policy and confidence scoring engine. For every transaction JSON, you must validate compliance, raise necessary flags, and score the data quality based on store limits, procurement rules, and weekend travel policies.',
                file: 'policy-verification-agent.md',
                dependencies: 'Routing Orchestrator Agent',
                owner: 'Finance Compliance Squad'
            },
            'routing-orchestrator': {
                name: 'Routing Orchestrator Agent',
                badge: 'Decision Logic',
                persona: 'Central orchestration layer ¬∑ Routing decisions ¬∑ Notifications',
                systemPrompt: 'You are the central orchestration layer. Consume the JSON payload from the Policy_Verification_Agent, decide the next hop, and trigger the appropriate notifications based on confidence scores and policy checks.',
                file: 'routing-orchestrator-agent.md',
                dependencies: 'ERP Integration Agent, Employee Interface Agent',
                owner: 'Integration Squad'
            },
            'financial-analyst': {
                name: 'Financial Analyst Agent',
                badge: 'Insights & Analytics',
                persona: '‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≤‡∏ß‡∏∏‡πÇ‡∏™ ¬∑ Anomaly detection ¬∑ Multi-view insights',
                systemPrompt: '‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≤‡∏ß‡∏∏‡πÇ‡∏™‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á insight ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á Finance, HR, Operations, ‡πÅ‡∏•‡∏∞ Procurement',
                file: 'financial-analyst-agent.md',
                dependencies: 'None (Batch Process)',
                owner: 'Finance Analytics Squad'
            },
            'erp-integration': {
                name: 'ERP Integration Agent',
                badge: 'SAP/Treasury API',
                persona: 'Downstream integration specialist ¬∑ Multi-system routing',
                systemPrompt: 'You are the downstream integration specialist. Consume transactions marked AUTO_APPROVED and emit the exact payload required by the target system (Treasury API, SAP API, or my petty cash API).',
                file: 'erp-integration-agent.md',
                dependencies: 'External Systems (SAP, Treasury)',
                owner: 'ERP Integration Squad'
            }
        };

        function showAgentGroup(group) {
            const groupButtons = document.querySelectorAll('aside button');
            groupButtons.forEach(btn => {
                btn.classList.remove('bg-white/5', 'text-white', 'border-[#009688]/30');
                btn.classList.add('text-slate-300', 'border-transparent');
                const badge = btn.querySelector('span');
                if (badge) {
                    badge.classList.remove('bg-[#009688]/20', 'text-[#009688]');
                    badge.classList.add('bg-slate-700/50', 'text-slate-300');
                }
            });
            
            event.currentTarget.classList.remove('text-slate-300', 'border-transparent');
            event.currentTarget.classList.add('bg-white/5', 'text-white', 'border-[#009688]/30');
            const badge = event.currentTarget.querySelector('span');
            if (badge) {
                badge.classList.remove('bg-slate-700/50', 'text-slate-300');
                badge.classList.add('bg-[#009688]/20', 'text-[#009688]');
            }

            // Filter logic
            const agentCards = document.querySelectorAll('[onclick^="loadAgent"]');
            agentCards.forEach(card => {
                card.style.opacity = '0.5';
            });
            
            setTimeout(() => {
                agentCards.forEach(card => {
                    card.style.opacity = '1';
                });
            }, 300);
        }
        
        function loadAgent(agentName) {
            const agent = agents[agentName];
            if (!agent) return;

            // Update header
            document.querySelector('[data-agent-name]').textContent = agent.name;
            document.querySelector('[data-agent-badge]').textContent = agent.badge;
            
            // Update persona
            document.querySelector('[data-agent-persona]').textContent = agent.persona;
            
            // Update system prompt
            document.querySelector('[data-system-prompt]').innerHTML = agent.systemPrompt;
            
            // Update metadata
            document.querySelector('[data-agent-owner]').textContent = agent.owner;
            document.querySelector('[data-agent-dependencies]').textContent = agent.dependencies;
            document.querySelector('[data-agent-file]').textContent = 'prompt/' + agent.file;
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Download YAML functionality
        document.addEventListener('DOMContentLoaded', function() {
            const downloadBtn = document.querySelector('button:has-text("üìÑ Download YAML")');
            if (downloadBtn) {
                downloadBtn.addEventListener('click', function() {
                    const yaml = generateYAML();
                    downloadFile('doi-tung-agents.yaml', yaml);
                });
            }
        });

        function generateYAML() {
            let yaml = '# Doi Tung Agent Prompt Configuration\n';
            yaml += '# Generated: ' + new Date().toISOString() + '\n\n';
            yaml += 'version: "1.0"\n';
            yaml += 'environment: staging\n';
            yaml += 'last_updated: "2025-11-09T14:32:00Z"\n\n';
            yaml += 'agents:\n';
            
            for (const [key, agent] of Object.entries(agents)) {
                yaml += `  - id: ${key}\n`;
                yaml += `    name: "${agent.name}"\n`;
                yaml += `    file: ${agent.file}\n`;
                yaml += `    owner: "${agent.owner}"\n`;
                yaml += `    dependencies: "${agent.dependencies}"\n\n`;
            }
            
            return yaml;
        }

        function downloadFile(filename, content) {
            const blob = new Blob([content], { type: 'text/yaml' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // Deploy Update functionality
        function deployUpdate() {
            if (confirm('Deploy these agent configurations to staging environment?')) {
                const btn = event.currentTarget;
                const originalText = btn.innerHTML;
                btn.innerHTML = '‚è≥ Deploying...';
                btn.disabled = true;
                
                setTimeout(() => {
                    btn.innerHTML = '‚úÖ Deployed Successfully';
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                    }, 2000);
                }, 1500);
            }
        }

        // Environment switch
        function switchEnvironment(env) {
            const buttons = document.querySelectorAll('.grid.grid-cols-2.gap-3 button');
            buttons.forEach(btn => {
                btn.classList.remove('bg-[#009688]/20', 'border-[#009688]/40', 'text-[#009688]');
                btn.classList.add('border-slate-700', 'text-slate-300');
            });
            
            event.currentTarget.classList.remove('border-slate-700', 'text-slate-300');
            event.currentTarget.classList.add('bg-[#009688]/20', 'border-[#009688]/40', 'text-[#009688]');
        }

        // Tab switching
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('[onclick^="switchTab"]');
            tabs.forEach(tab => {
                tab.classList.remove('border-[#009688]/50', 'text-[#009688]', 'bg-[#009688]/10');
                tab.classList.add('border-transparent', 'text-slate-500');
            });
            
            event.currentTarget.classList.remove('border-transparent', 'text-slate-500');
            event.currentTarget.classList.add('border-[#009688]/50', 'text-[#009688]', 'bg-[#009688]/10');
        }

        // Action buttons
        function syncFromGit() {
            const btn = event.currentTarget;
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚è≥ Syncing...';
            setTimeout(() => {
                btn.innerHTML = '‚úÖ Synced';
                setTimeout(() => btn.innerHTML = originalText, 1500);
            }, 1000);
        }

        function runTest() {
            alert('Running test scenarios for current agent...\n\nTest Results:\n‚úÖ Greeting flow\n‚úÖ File upload\n‚úÖ Status update\n‚ö†Ô∏è  Edge case: Large file (manual review needed)');
        }

        function sendSampleMessage() {
            alert('Sending sample message to LINE Bot...\n\nMessage: "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å petty cash"\n\nExpected Response: "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! üòä ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö"');
        }

        function viewJourneyMap() {
            window.open('https://miro.com/app/board/example-journey-map/', '_blank');
        }

        function viewFullHistory() {
            alert('Change History:\n\n‚Ä¢ 09 ‡∏û.‡∏¢. 2025 ‚Äì ‡πÄ‡∏û‡∏¥‡πà‡∏° guardrail ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á JSON\n‚Ä¢ 02 ‡∏û.‡∏¢. 2025 ‚Äì ‡∏õ‡∏£‡∏±‡∏ö greeting message ‡πÉ‡∏ä‡πâ‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥\n‚Ä¢ 28 ‡∏ï.‡∏Ñ. 2025 ‚Äì update mapping ‡∏Å‡∏±‡∏ö orchestrator status\n‚Ä¢ 15 ‡∏ï.‡∏Ñ. 2025 ‚Äì ‡πÄ‡∏û‡∏¥‡πà‡∏° error handling ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà\n‚Ä¢ 01 ‡∏ï.‡∏Ñ. 2025 ‚Äì Initial deployment');
        }

        function runScenario() {
            const btn = event.currentTarget;
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚è≥ Running...';
            setTimeout(() => {
                btn.innerHTML = '‚úÖ All Tests Passed';
                setTimeout(() => btn.innerHTML = originalText, 2000);
            }, 1500);
        }

        function viewDiff() {
            alert('Git Diff:\n\n+ Added: Weekend travel policy flag\n+ Modified: Confidence scoring logic\n- Removed: Deprecated status codes\n\nCommit: 824a1f2\nAuthor: finance-admin@doitung.org');
        }

        function cloneAgent() {
            const agentName = document.querySelector('[data-agent-name]').textContent;
            const newName = prompt(`Clone "${agentName}" as:`, agentName + ' (Copy)');
            if (newName) {
                alert(`Agent cloned successfully as:\n"${newName}"\n\nNew file: prompt/${newName.toLowerCase().replace(/\s+/g, '-')}.md`);
            }
        }
    </script>
</body>
</html>
